<div
  class="overlay-background"
  [class.invisible]="!showTestOverlay"
  (click)="hideTests()"
>
  <div class="overlay-container" (click)="stopEvent($event)">
    <div class="overlay-wrapper">
      <div class="overlay-header">
        <h2 class="overlay-heading">Überprüfen</h2>
        <div>
          Im Folgenden hast du die Möglichkeit, deine Lösung mithilfe von
          vorgefertigten Tests auf Korrektheit (insbesondere bei Randfällen)
          prüfen zu lassen.
        </div>
      </div>
      <hr />
      <div class="overlay-content">
        <button>Alle Tests ausführen</button>

        <!--
          Button sagt erneut ausführen, falls schon Status hat
          Ausklappmenü ist bei error/fail immer da, zeigt immer die Konsoleausgabe in einem scroll-fenster
          bei fehlgeschlagenen tests gibts zusätzlich einen Hinweis/Tipp
        -->
        <div class="tests">
          <div class="successful-tests">
            <h3>Erfolgreiche Tests (2)</h3>
            <div class="test test-success">
              <div class="test-overview">
                <div class="test-name">> Test1</div>
                <div>
                  <button>Erneut ausführen</button>
                </div>
              </div>
              <div class="test-expand"></div>
            </div>
            <div class="test test-success">
              <div class="test-overview">
                <div class="test-name">> Test2</div>
                <div>
                  <button>Erneut ausführen</button>
                </div>
              </div>
              <div class="test-expand"></div>
            </div>
          </div>
          <div class="failed-tests">
            <h3>Fehlgeschlagene Tests (1)</h3>
            <div class="test test-fail">
              <div class="test-overview" (click)="toggleTest()">
                <div class="test-name">> Test3</div>
                <div>
                  <button (click)="redoTest($event)">Erneut ausführen</button>
                </div>
              </div>
              <div class="test-expand" [class.invisible]="!expandedTests">
                <div class="console-output">
                  <div>Ausgabe des Programms:</div>
                  <code class="terminal-output">
                    Hier dann die Fehlermeldung oder was auch immer das Programm
                    ausgibt!
                  </code>
                </div>
                <div class="hint">
                  Tipp: Denke dadran, dass auch xyz gelten muss!
                </div>
              </div>
            </div>
          </div>

          <div class="unknown-tests">
            <h3>Noch nicht ausgeführt (1)</h3>
            <div class="test test-unknown">
              <div class="test-overview">
                <div class="test-name">Test4</div>
                <div>
                  <button (click)="redoTest($event)">Ausführen</button>
                </div>
              </div>
            </div>
          </div>

          <!-- <div class="test">
            <div class="test-name">
              Test1
            </div>
            <div class="test-status test-status-unknown">
              <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                aria-labelledby="helpIconTitle" stroke="currentColor" stroke-width="2" stroke-linecap="square"
                stroke-linejoin="miter" fill="none">
                <title id="helpIconTitle">Status unbekannt</title>
                <path
                  d="M12 14C12 12 13.576002 11.6652983 14.1186858 11.1239516 14.663127 10.5808518 15 9.82976635 15 9 15 7.34314575 13.6568542 6 12 6 11.1040834 6 10.2998929 6.39272604 9.75018919 7.01541737 9.49601109 7.30334431 9.29624369 7.64043912 9.16697781 8.01061095" />
                <line x1="12" y1="17" x2="12" y2="17" />
                <circle cx="12" cy="12" r="10" />
              </svg>
            </div>
          </div>
          <div class="test">
            <div class="test-name">
              Test2
            </div>
            <div class="test-status test-status-success">
              <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                aria-labelledby="circleOkIconTitle" stroke="currentColor" stroke-width="2" stroke-linecap="square"
                stroke-linejoin="miter" fill="none">
                <title id="circleOkIconTitle">Erfolgreich</title>
                <polyline points="7 13 10 16 17 9" />
                <circle cx="12" cy="12" r="10" />
              </svg>
            </div>
          </div>
          <div class="test">
            <div class="test-name">
              Test3 (TODO: Ausklappbar wegen Tip?)
            </div>
            <div class="test-status test-status-fail">
              <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                aria-labelledby="cancelIconTitle" stroke="currentColor" stroke-width="2" stroke-linecap="square"
                stroke-linejoin="miter" fill="none">
                <title id="cancelIconTitle">Fehlgeschlagen</title>
                <path d="M15.5355339 15.5355339L8.46446609 8.46446609M15.5355339 8.46446609L8.46446609 15.5355339" />
                <path
                  d="M4.92893219,19.0710678 C1.02368927,15.1658249 1.02368927,8.83417511 4.92893219,4.92893219 C8.83417511,1.02368927 15.1658249,1.02368927 19.0710678,4.92893219 C22.9763107,8.83417511 22.9763107,15.1658249 19.0710678,19.0710678 C15.1658249,22.9763107 8.83417511,22.9763107 4.92893219,19.0710678 Z" />
              </svg>
            </div>
          </div>
          -->
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="nav">
    <div class="logo">
      <img
        class="blueberry-logo"
        src="/assets//blueberry.png"
        alt="Startseite"
      />
    </div>
    <div class="search-bar">
      <div class="search-wrapper">
        <svg
          class="svg-icon search-icon"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          aria-labelledby="searchIconTitle"
          stroke="currentColor"
          stroke-width="1"
          stroke-linecap="square"
          stroke-linejoin="miter"
          fill="none"
        >
          <title id="searchIconTitle">Suchen</title>
          <path d="M14.4121122,14.4121122 L20,20" />
          <circle cx="10" cy="10" r="6" />
        </svg>
        <input
          type="text"
          placeholder="Im Glossar suchen"
          class="search-input"
        />
      </div>
    </div>
  </div>
  <div class="content">
    <div class="action-bar" id="action-bar">
      <div class="action-bar-top">
        <button class="action-bar-button" (click)="toggleFiles()">
          <svg
            class="svg-icon"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            aria-labelledby="fileIconTitle"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="square"
            stroke-linejoin="miter"
            fill="none"
          >
            <title id="fileIconTitle">Dateien</title>
            <path stroke-linecap="round" d="M13 3v6h6" />
            <path d="M13 3l6 6v12H5V3z" />
          </svg>
        </button>
        <button class="action-bar-button">
          <svg
            class="svg-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-labelledby="extensionIconTitle"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="square"
            stroke-linejoin="miter"
          >
            <title id="extensionIconTitle">Hilfe</title>
            <path
              d="M9 4C9 2.89543 9.89543 2 11 2C12.1046 2 13 2.89543 13 4V6H18V11H20C21.1046 11 22 11.8954 22 13C22 14.1046 21.1046 15 20 15H18V20H13V18C13 16.8954 12.1046 16 11 16C9.89543 16 9 16.8954 9 18V20H4V15H6C7.10457 15 8 14.1046 8 13C8 11.8954 7.10457 11 6 11H4V6H9V4Z"
            />
          </svg>
        </button>
        <button class="action-bar-button">
          <svg
            class="svg-icon"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            aria-labelledby="refreshIconTitle"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="square"
            stroke-linejoin="miter"
            fill="none"
          >
            <title id="refreshIconTitle">Zurücksetzen</title>
            <polyline points="22 12 19 15 16 12" />
            <path
              d="M11,20 C6.581722,20 3,16.418278 3,12 C3,7.581722 6.581722,4 11,4 C15.418278,4 19,7.581722 19,12 L19,14"
            />
          </svg>
        </button>
        <button class="action-bar-button" (click)="showTests()">
          <svg
            class="svg-icon"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
            aria-labelledby="checkboxIconTitle"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="square"
            stroke-linejoin="miter"
            fill="none"
          >
            <title id="checkboxIconTitle">Überprüfen</title>
            <rect
              x="21"
              y="3"
              width="18"
              height="18"
              rx="1"
              transform="rotate(90 21 3)"
            />
            <path d="M6.66666 12.6667L9.99999 16L17.3333 8.66669" />
          </svg>
        </button>
        <button class="action-bar-button">
          <svg
            class="svg-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-labelledby="presentationIconTitle"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="square"
            stroke-linejoin="miter"
          >
            <title id="presentationIconTitle">Lernmaterialien</title>
            <rect x="6" y="8" width="12" height="7" />
            <path d="M6 5H12M18 5H12M12 5V4" />
            <path
              d="M6 18H8M18 18H16M12 18V21M12 18H8M12 18H16M8 18L6 21M16 18L18 21"
            />
          </svg>
        </button>
      </div>
      <div class="action-bar-bottom">
        <button class="action-bar-button">
          <svg
            class="svg-icon"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            aria-labelledby="settingsIconTitle"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="square"
            stroke-linejoin="miter"
            fill="none"
          >
            <title id="settingsIconTitle">Einstellungen</title>
            <path
              d="M5.03506429,12.7050339 C5.01187484,12.4731696 5,12.2379716 5,12 C5,11.7620284 5.01187484,11.5268304 5.03506429,11.2949661 L3.20577137,9.23205081 L5.20577137,5.76794919 L7.9069713,6.32070904 C8.28729123,6.0461342 8.69629298,5.80882212 9.12862533,5.61412402 L10,3 L14,3 L14.8713747,5.61412402 C15.303707,5.80882212 15.7127088,6.0461342 16.0930287,6.32070904 L18.7942286,5.76794919 L20.7942286,9.23205081 L18.9649357,11.2949661 C18.9881252,11.5268304 19,11.7620284 19,12 C19,12.2379716 18.9881252,12.4731696 18.9649357,12.7050339 L20.7942286,14.7679492 L18.7942286,18.2320508 L16.0930287,17.679291 C15.7127088,17.9538658 15.303707,18.1911779 14.8713747,18.385876 L14,21 L10,21 L9.12862533,18.385876 C8.69629298,18.1911779 8.28729123,17.9538658 7.9069713,17.679291 L5.20577137,18.2320508 L3.20577137,14.7679492 L5.03506429,12.7050339 Z"
            />
            <circle cx="12" cy="12" r="1" />
          </svg>
        </button>
      </div>
    </div>
    <section
      class="sidebar"
      [class.invisible]="showFiles == false"
      id="sidebar"
    >
      <div class="sidebar-headline">Dateien</div>
      <div class="sidebar-entry">
        <div class="sidebar-header" (click)="toggleOfficialFiles()">
          <div class="sidebar-header-icon">
            <svg
              class="sidebar-header-icon-svg"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              aria-labelledby="chevronRightIconTitle"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="square"
              stroke-linejoin="miter"
              fill="none"
            >
              <title id="chevronRightIconTitle">Ausklappen</title>
              <polyline points="10 6 16 12 10 18 10 18" />
            </svg>
          </div>
          <div class="sidebar-header-text">Vorgegeben</div>
        </div>
        <div class="sidebar-content" [class.invisible]="!showOfficialFiles">
          <div class="file">
            <div class="file-type">
              <svg
                class="file-type-image"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                aria-labelledby="imageIconTitle"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="square"
                stroke-linejoin="miter"
                fill="none"
              >
                <title id="imageIconTitle">Bilddatei</title>
                <rect width="18" height="18" x="3" y="3" />
                <path stroke-linecap="round" d="M3 14l4-4 11 11" />
                <circle cx="13.5" cy="7.5" r="2.5" />
                <path stroke-linecap="round" d="M13.5 16.5L21 9" />
              </svg>
            </div>
            <div class="file-name">Klassifizierung_Beispiel.jpg</div>
          </div>
        </div>
      </div>
    </section>
    <div class="main-test" id="main-content">
      <div class="code" id="code-area">
        <div class="code-action-bar">
          <div class="action-bar-icon">
            <svg
              class="svg-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              aria-labelledby="backLeftIconTitle"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="square"
              stroke-linejoin="miter"
              fill="none"
            >
              <title id="backLeftIconTitle">Rückgängig</title>
              <path
                d="M5,17 L5,15 C5,10.0294373 8.80557963,6 13.5,6 C18.1944204,6 22,10.0294373 22,15"
              />
              <polyline points="8 15 5 18 2 15" />
            </svg>
          </div>
          <div class="action-bar-icon">
            <svg
              class="svg-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              aria-labelledby="backRightIconTitle"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="square"
              stroke-linejoin="miter"
              fill="none"
            >
              <title id="backRightIconTitle">Vorwärts</title>
              <path
                d="M19,17 L19,15 C19,10.0294373 15.1944204,6 10.5,6 C5.80557963,6 2,10.0294373 2,15"
              />
              <polyline points="16 15 19 18 22 15" />
            </svg>
          </div>
          <div class="action-bar-icon">
            <svg
              class="svg-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              aria-labelledby="playIconTitle"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="square"
              stroke-linejoin="miter"
              fill="none"
            >
              <title id="playIconTitle">Ausführen</title>
              <path d="M20 12L5 21V3z" />
            </svg>
          </div>
        </div>
        <div id="monaco-editor"><app-code-viewer></app-code-viewer></div>
      </div>

      <div class="simulation" id="simulation">
        <unity [updateMessage]="updateMessage"></unity>

        <div class="slider" (mousedown)="test($event)"></div>

        <!-- item depth als css var definieren, dann via style="" passen
          scss macht dann calc mit var(--itemDepth) * 10px

          unterscheidung mitgelieferte vs. eigene dateien, d.h. 2 ordner
          allerdings keine unterordner
          doppelklick auf datei öffnet preview
          vielleicht in neuem tab?
        -->
      </div>
    </div>
  </div>
</div>
