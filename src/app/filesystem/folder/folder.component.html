  <div class="folder" [style.padding-left.px]="(node.isTentativeNode) ? 10 * node.depth + 20 : 10 * node.depth" 
    [class.root-folder]="node.isRoot" 
    [class.active]="node.isActive" 
    (click)="toggleSubfolders($event)"
    (contextmenu)="toggleContextMenu($event)">
    <div class="folder-heading">
      <div class="folder-icon">
        <svg class="arrow" *ngIf="!showSubfolders && !this.isRenaming" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
          aria-labelledby="chevronRightIconTitle" stroke="currentColor" stroke-width="2" stroke-linecap="square"
          stroke-linejoin="miter" fill="none">
          <title id="chevronRightIconTitle">Ausklappen</title>
          <polyline points="10 6 16 12 10 18 10 18" />
        </svg>
        <svg class="arrow" *ngIf="showSubfolders && !this.isRenaming" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
          aria-labelledby="chevronDownIconTitle" stroke="currentColor" stroke-width="2" stroke-linecap="square" 
          stroke-linejoin="miter" fill="none"> 
          <title id="chevronDownIconTitle">Einklappen</title>
          <polyline points="6 10 12 16 18 10"/> 
        </svg>
      </div>
      <app-file-icons [isActive]="node.isActive"></app-file-icons>
      <ng-container *ngIf="!isRenaming">
        <div class="folder-text">{{node?.name}}</div>
      </ng-container>
      <div *ngIf="isRenaming">
          <app-user-input [parentPath]="node.parentPath" [depth]="node.depth" [isFile]="false" [editMode]="true" 
          [currentName]="node?.name" (onSubmit)="changeName($event)" (dismiss)="dismissNameChange()"></app-user-input>
      </div>
    </div>
    <div *ngIf="!isRenaming" class="common-actions" [class.show]="showContextMenu">
      <app-common-actions [isRoot]="node.isRoot" [isFile]="false" [mode]="node?.mode || -1" (close)="closeContextMenu()"
      [offsetX]="offsetX" [offsetY]="offsetY"
      (createNewFromUI)="this.createNewFromUI($event)" (delete)="this.deleteFolder($event)" 
      (startRenaming)="this.startRenaming($event)" (selectedFiles)="this.onNewFile($event)"></app-common-actions>
    </div>
</div>

<div [class.invisible]="!showSubfolders" class="options">
  <div *ngIf="node.isEmptyNode && !node.isTentativeNode && tentativeNode === undefined" [style.padding-left.px]="10 * node.depth + 20">
    <div *ngIf="node.isRoot && !isRenaming">
      <div class="link" (click)="this.createNewFromUI({ ev: $event, isFile: false })">Ordner erstellen</div>
      <div class="link" (click)="this.createNewFromUI({ ev: $event, isFile: true })">Datei erstellen</div>
    </div>
    <div *ngIf="!node.isRoot">
      Leerer Ordner
    </div>
  </div>
  <div #subfolders></div>
  <div #files></div>      
</div>  